# PBin
Сервис pastebin-подобный - тестовое задание.

Выполнено на Laravel, БД - MySQL.

Созданы модели User, Doc, Guestdoc - зарег. пользователь, документ от зарег. пользователя, документ от гостя, соответственно.

Для указанных выше 3 моделей созданы таблицы в БД: users, docs, guestdocs. Различие между docs и guestdocs в отсутствии в guestdocs столбцов privacy(отвечающего за приватность) и user_id(какому именно пользователю принадлежит документ)

Контроллер DocsController, методы:

	index(для показа на главное странице публичных документов от зарег. пользователей и от гостей), 
  
	store(для создания публичных и приватных документов аутентифицироваными пользователями и гостями),
  
	show(для показа публичных документов, принадлежащих конкретному пользователю; если аутент. пользователю нужно увидеть свои документы, его перенаправляет на домашнюю страницу с его публичными и приватными документами)
  
	watch(просмотр конкретного публичного - либо собственного приватного - документа зарег. пользователя на отдельной странице)
  
	guest(просмотр конкретного публичного документа, созданного гостем сайта на такой же странице)
	
Маршрутизация (файл routes/web.php)

	Имеются маршруты регистрации и аутентификации пользователей. 
	В 2 циклах foreach создаются маршруты для документов от гостей и от зарег. пользователей, соответственно. 
	И гости, и пользователи могут просматривать публичные документы всех зарег. пользователей и гостей(в маршруте указывается идПользователя_docs). 
	Если пользователь аутентифицирован и смотрит свой документ, его маршрут к своему документу проходит через его домашнюю страницу(home/id); 
	если он смотрит не свой документ, то в маршруте указывается id автора документа и id самого документа (user_id/id). 
	Если гость смотрит чей-либо публичный документ, его направляет по тому же мартшруту, что и в предыдущем случае. 
	Документ от гостя располагается по адресу /id, где id - ид. документа, созданного неким гостем.
